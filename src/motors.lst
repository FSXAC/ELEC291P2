0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1069 (Apr 23 2015) (MSVC)
0000              4   ; This file was generated Thu Mar 30 21:04:22 2017
0000              5   ;--------------------------------------------------------
                  5   $name motors
                  6   $optc51 --model-small
                  7   $printf_float
0000              9            R_DSEG    segment data
0000             10            R_CSEG    segment code
0000             11            R_BSEG    segment bit
0000             12            R_XSEG    segment xdata
0000             13            R_PSEG    segment xdata
0000             14            R_ISEG    segment idata
0000             15            R_OSEG    segment data overlay
0000             16            BIT_BANK  segment data overlay
0000             17            R_HOME    segment code
0000             18            R_GSINIT  segment code
0000             19            R_IXSEG   segment xdata
0000             20            R_CONST   segment code
0000             21            R_XINIT   segment code
0000             22            R_DINIT   segment code
0000             23   
0000             24   ;--------------------------------------------------------
0000             25   ; Public variables in this module
0000             26   ;--------------------------------------------------------
0000             27            public _InitPinADC_PARM_2
0000             28            public _main
0000             29            public _uturn
0000             30            public _turncar
0000             31            public _stopcar
0000             32            public _linetrack
0000             33            public _readData
0000             34            public _Volts_at_Pin
0000             35            public _ADC_at_Pin
0000             36            public _InitPinADC
0000             37            public _InitADC
0000             38            public _forward_backward
0000             39            public _Timer2_ISR
0000             40            public _waitms
0000             41            public _Timer3us
0000             42            public __c51_external_startup
0000             43            public _currentstate
0000             44            public _currentcmd
0000             45            public _direction
0000             46            public _pwm_Right1
0000             47            public _pwm_Right0
0000             48            public _pwm_Left1
0000             49            public _pwm_Left0
0000             50            public _pwm_both
0000             51            public _mode
0000             52            public _pwm_count
0000             53   ;--------------------------------------------------------
0000             54   ; Special Function Registers
0000             55   ;--------------------------------------------------------
0000             56   _P0             DATA 0x80
0000             57   _SP             DATA 0x81
0000             58   _DPL            DATA 0x82
0000             59   _DPH            DATA 0x83
0000             60   _EMI0TC         DATA 0x84
0000             61   _EMI0CF         DATA 0x85
0000             62   _OSCLCN         DATA 0x86
0000             63   _PCON           DATA 0x87
0000             64   _TCON           DATA 0x88
0000             65   _TMOD           DATA 0x89
0000             66   _TL0            DATA 0x8a
0000             67   _TL1            DATA 0x8b
0000             68   _TH0            DATA 0x8c
0000             69   _TH1            DATA 0x8d
0000             70   _CKCON          DATA 0x8e
0000             71   _PSCTL          DATA 0x8f
0000             72   _P1             DATA 0x90
0000             73   _TMR3CN         DATA 0x91
0000             74   _TMR4CN         DATA 0x91
0000             75   _TMR3RLL        DATA 0x92
0000             76   _TMR4RLL        DATA 0x92
0000             77   _TMR3RLH        DATA 0x93
0000             78   _TMR4RLH        DATA 0x93
0000             79   _TMR3L          DATA 0x94
0000             80   _TMR4L          DATA 0x94
0000             81   _TMR3H          DATA 0x95
0000             82   _TMR4H          DATA 0x95
0000             83   _USB0ADR        DATA 0x96
0000             84   _USB0DAT        DATA 0x97
0000             85   _SCON           DATA 0x98
0000             86   _SCON0          DATA 0x98
0000             87   _SBUF           DATA 0x99
0000             88   _SBUF0          DATA 0x99
0000             89   _CPT1CN         DATA 0x9a
0000             90   _CPT0CN         DATA 0x9b
0000             91   _CPT1MD         DATA 0x9c
0000             92   _CPT0MD         DATA 0x9d
0000             93   _CPT1MX         DATA 0x9e
0000             94   _CPT0MX         DATA 0x9f
0000             95   _P2             DATA 0xa0
0000             96   _SPI0CFG        DATA 0xa1
0000             97   _SPI0CKR        DATA 0xa2
0000             98   _SPI0DAT        DATA 0xa3
0000             99   _P0MDOUT        DATA 0xa4
0000            100   _P1MDOUT        DATA 0xa5
0000            101   _P2MDOUT        DATA 0xa6
0000            102   _P3MDOUT        DATA 0xa7
0000            103   _IE             DATA 0xa8
0000            104   _CLKSEL         DATA 0xa9
0000            105   _EMI0CN         DATA 0xaa
0000            106   __XPAGE         DATA 0xaa
0000            107   _SBCON1         DATA 0xac
0000            108   _P4MDOUT        DATA 0xae
0000            109   _PFE0CN         DATA 0xaf
0000            110   _P3             DATA 0xb0
0000            111   _OSCXCN         DATA 0xb1
0000            112   _OSCICN         DATA 0xb2
0000            113   _OSCICL         DATA 0xb3
0000            114   _SBRLL1         DATA 0xb4
0000            115   _SBRLH1         DATA 0xb5
0000            116   _FLSCL          DATA 0xb6
0000            117   _FLKEY          DATA 0xb7
0000            118   _IP             DATA 0xb8
0000            119   _CLKMUL         DATA 0xb9
0000            120   _SMBTC          DATA 0xb9
0000            121   _AMX0N          DATA 0xba
0000            122   _AMX0P          DATA 0xbb
0000            123   _ADC0CF         DATA 0xbc
0000            124   _ADC0L          DATA 0xbd
0000            125   _ADC0H          DATA 0xbe
0000            126   _SFRPAGE        DATA 0xbf
0000            127   _SMB0CN         DATA 0xc0
0000            128   _SMB1CN         DATA 0xc0
0000            129   _SMB0CF         DATA 0xc1
0000            130   _SMB1CF         DATA 0xc1
0000            131   _SMB0DAT        DATA 0xc2
0000            132   _SMB1DAT        DATA 0xc2
0000            133   _ADC0GTL        DATA 0xc3
0000            134   _ADC0GTH        DATA 0xc4
0000            135   _ADC0LTL        DATA 0xc5
0000            136   _ADC0LTH        DATA 0xc6
0000            137   _P4             DATA 0xc7
0000            138   _TMR2CN         DATA 0xc8
0000            139   _TMR5CN         DATA 0xc8
0000            140   _REG01CN        DATA 0xc9
0000            141   _TMR2RLL        DATA 0xca
0000            142   _TMR5RLL        DATA 0xca
0000            143   _TMR2RLH        DATA 0xcb
0000            144   _TMR5RLH        DATA 0xcb
0000            145   _TMR2L          DATA 0xcc
0000            146   _TMR5L          DATA 0xcc
0000            147   _TMR2H          DATA 0xcd
0000            148   _TMR5H          DATA 0xcd
0000            149   _SMB0ADM        DATA 0xce
0000            150   _SMB1ADM        DATA 0xce
0000            151   _SMB0ADR        DATA 0xcf
0000            152   _SMB1ADR        DATA 0xcf
0000            153   _PSW            DATA 0xd0
0000            154   _REF0CN         DATA 0xd1
0000            155   _SCON1          DATA 0xd2
0000            156   _SBUF1          DATA 0xd3
0000            157   _P0SKIP         DATA 0xd4
0000            158   _P1SKIP         DATA 0xd5
0000            159   _P2SKIP         DATA 0xd6
0000            160   _USB0XCN        DATA 0xd7
0000            161   _PCA0CN         DATA 0xd8
0000            162   _PCA0MD         DATA 0xd9
0000            163   _PCA0CPM0       DATA 0xda
0000            164   _PCA0CPM1       DATA 0xdb
0000            165   _PCA0CPM2       DATA 0xdc
0000            166   _PCA0CPM3       DATA 0xdd
0000            167   _PCA0CPM4       DATA 0xde
0000            168   _P3SKIP         DATA 0xdf
0000            169   _ACC            DATA 0xe0
0000            170   _XBR0           DATA 0xe1
0000            171   _XBR1           DATA 0xe2
0000            172   _XBR2           DATA 0xe3
0000            173   _IT01CF         DATA 0xe4
0000            174   _CKCON1         DATA 0xe4
0000            175   _SMOD1          DATA 0xe5
0000            176   _EIE1           DATA 0xe6
0000            177   _EIE2           DATA 0xe7
0000            178   _ADC0CN         DATA 0xe8
0000            179   _PCA0CPL1       DATA 0xe9
0000            180   _PCA0CPH1       DATA 0xea
0000            181   _PCA0CPL2       DATA 0xeb
0000            182   _PCA0CPH2       DATA 0xec
0000            183   _PCA0CPL3       DATA 0xed
0000            184   _PCA0CPH3       DATA 0xee
0000            185   _RSTSRC         DATA 0xef
0000            186   _B              DATA 0xf0
0000            187   _P0MDIN         DATA 0xf1
0000            188   _P1MDIN         DATA 0xf2
0000            189   _P2MDIN         DATA 0xf3
0000            190   _P3MDIN         DATA 0xf4
0000            191   _P4MDIN         DATA 0xf5
0000            192   _EIP1           DATA 0xf6
0000            193   _EIP2           DATA 0xf7
0000            194   _SPI0CN         DATA 0xf8
0000            195   _PCA0L          DATA 0xf9
0000            196   _PCA0H          DATA 0xfa
0000            197   _PCA0CPL0       DATA 0xfb
0000            198   _PCA0CPH0       DATA 0xfc
0000            199   _PCA0CPL4       DATA 0xfd
0000            200   _PCA0CPH4       DATA 0xfe
0000            201   _VDM0CN         DATA 0xff
0000            202   _DPTR           DATA 0x8382
0000            203   _TMR2RL         DATA 0xcbca
0000            204   _TMR3RL         DATA 0x9392
0000            205   _TMR4RL         DATA 0x9392
0000            206   _TMR5RL         DATA 0xcbca
0000            207   _TMR2           DATA 0xcdcc
0000            208   _TMR3           DATA 0x9594
0000            209   _TMR4           DATA 0x9594
0000            210   _TMR5           DATA 0xcdcc
0000            211   _SBRL1          DATA 0xb5b4
0000            212   _ADC0           DATA 0xbebd
0000            213   _ADC0GT         DATA 0xc4c3
0000            214   _ADC0LT         DATA 0xc6c5
0000            215   _PCA0           DATA 0xfaf9
0000            216   _PCA0CP1        DATA 0xeae9
0000            217   _PCA0CP2        DATA 0xeceb
0000            218   _PCA0CP3        DATA 0xeeed
0000            219   _PCA0CP0        DATA 0xfcfb
0000            220   _PCA0CP4        DATA 0xfefd
0000            221   ;--------------------------------------------------------
0000            222   ; special function bits
0000            223   ;--------------------------------------------------------
0000            224   _P0_0           BIT 0x80
0000            225   _P0_1           BIT 0x81
0000            226   _P0_2           BIT 0x82
0000            227   _P0_3           BIT 0x83
0000            228   _P0_4           BIT 0x84
0000            229   _P0_5           BIT 0x85
0000            230   _P0_6           BIT 0x86
0000            231   _P0_7           BIT 0x87
0000            232   _TF1            BIT 0x8f
0000            233   _TR1            BIT 0x8e
0000            234   _TF0            BIT 0x8d
0000            235   _TR0            BIT 0x8c
0000            236   _IE1            BIT 0x8b
0000            237   _IT1            BIT 0x8a
0000            238   _IE0            BIT 0x89
0000            239   _IT0            BIT 0x88
0000            240   _P1_0           BIT 0x90
0000            241   _P1_1           BIT 0x91
0000            242   _P1_2           BIT 0x92
0000            243   _P1_3           BIT 0x93
0000            244   _P1_4           BIT 0x94
0000            245   _P1_5           BIT 0x95
0000            246   _P1_6           BIT 0x96
0000            247   _P1_7           BIT 0x97
0000            248   _S0MODE         BIT 0x9f
0000            249   _SCON0_6        BIT 0x9e
0000            250   _MCE0           BIT 0x9d
0000            251   _REN0           BIT 0x9c
0000            252   _TB80           BIT 0x9b
0000            253   _RB80           BIT 0x9a
0000            254   _TI0            BIT 0x99
0000            255   _RI0            BIT 0x98
0000            256   _SCON_6         BIT 0x9e
0000            257   _MCE            BIT 0x9d
0000            258   _REN            BIT 0x9c
0000            259   _TB8            BIT 0x9b
0000            260   _RB8            BIT 0x9a
0000            261   _TI             BIT 0x99
0000            262   _RI             BIT 0x98
0000            263   _P2_0           BIT 0xa0
0000            264   _P2_1           BIT 0xa1
0000            265   _P2_2           BIT 0xa2
0000            266   _P2_3           BIT 0xa3
0000            267   _P2_4           BIT 0xa4
0000            268   _P2_5           BIT 0xa5
0000            269   _P2_6           BIT 0xa6
0000            270   _P2_7           BIT 0xa7
0000            271   _EA             BIT 0xaf
0000            272   _ESPI0          BIT 0xae
0000            273   _ET2            BIT 0xad
0000            274   _ES0            BIT 0xac
0000            275   _ET1            BIT 0xab
0000            276   _EX1            BIT 0xaa
0000            277   _ET0            BIT 0xa9
0000            278   _EX0            BIT 0xa8
0000            279   _P3_0           BIT 0xb0
0000            280   _P3_1           BIT 0xb1
0000            281   _P3_2           BIT 0xb2
0000            282   _P3_3           BIT 0xb3
0000            283   _P3_4           BIT 0xb4
0000            284   _P3_5           BIT 0xb5
0000            285   _P3_6           BIT 0xb6
0000            286   _P3_7           BIT 0xb7
0000            287   _IP_7           BIT 0xbf
0000            288   _PSPI0          BIT 0xbe
0000            289   _PT2            BIT 0xbd
0000            290   _PS0            BIT 0xbc
0000            291   _PT1            BIT 0xbb
0000            292   _PX1            BIT 0xba
0000            293   _PT0            BIT 0xb9
0000            294   _PX0            BIT 0xb8
0000            295   _MASTER0        BIT 0xc7
0000            296   _TXMODE0        BIT 0xc6
0000            297   _STA0           BIT 0xc5
0000            298   _STO0           BIT 0xc4
0000            299   _ACKRQ0         BIT 0xc3
0000            300   _ARBLOST0       BIT 0xc2
0000            301   _ACK0           BIT 0xc1
0000            302   _SI0            BIT 0xc0
0000            303   _MASTER1        BIT 0xc7
0000            304   _TXMODE1        BIT 0xc6
0000            305   _STA1           BIT 0xc5
0000            306   _STO1           BIT 0xc4
0000            307   _ACKRQ1         BIT 0xc3
0000            308   _ARBLOST1       BIT 0xc2
0000            309   _ACK1           BIT 0xc1
0000            310   _SI1            BIT 0xc0
0000            311   _TF2            BIT 0xcf
0000            312   _TF2H           BIT 0xcf
0000            313   _TF2L           BIT 0xce
0000            314   _TF2LEN         BIT 0xcd
0000            315   _TF2CEN         BIT 0xcc
0000            316   _T2SPLIT        BIT 0xcb
0000            317   _TR2            BIT 0xca
0000            318   _T2CSS          BIT 0xc9
0000            319   _T2XCLK         BIT 0xc8
0000            320   _TF5H           BIT 0xcf
0000            321   _TF5L           BIT 0xce
0000            322   _TF5LEN         BIT 0xcd
0000            323   _TMR5CN_4       BIT 0xcc
0000            324   _T5SPLIT        BIT 0xcb
0000            325   _TR5            BIT 0xca
0000            326   _TMR5CN_1       BIT 0xc9
0000            327   _T5XCLK         BIT 0xc8
0000            328   _CY             BIT 0xd7
0000            329   _AC             BIT 0xd6
0000            330   _F0             BIT 0xd5
0000            331   _RS1            BIT 0xd4
0000            332   _RS0            BIT 0xd3
0000            333   _OV             BIT 0xd2
0000            334   _F1             BIT 0xd1
0000            335   _PARITY         BIT 0xd0
0000            336   _CF             BIT 0xdf
0000            337   _CR             BIT 0xde
0000            338   _PCA0CN_5       BIT 0xde
0000            339   _CCF4           BIT 0xdc
0000            340   _CCF3           BIT 0xdb
0000            341   _CCF2           BIT 0xda
0000            342   _CCF1           BIT 0xd9
0000            343   _CCF0           BIT 0xd8
0000            344   _ACC_7          BIT 0xe7
0000            345   _ACC_6          BIT 0xe6
0000            346   _ACC_5          BIT 0xe5
0000            347   _ACC_4          BIT 0xe4
0000            348   _ACC_3          BIT 0xe3
0000            349   _ACC_2          BIT 0xe2
0000            350   _ACC_1          BIT 0xe1
0000            351   _ACC_0          BIT 0xe0
0000            352   _AD0EN          BIT 0xef
0000            353   _AD0TM          BIT 0xee
0000            354   _AD0INT         BIT 0xed
0000            355   _AD0BUSY        BIT 0xec
0000            356   _AD0WINT        BIT 0xeb
0000            357   _AD0CM2         BIT 0xea
0000            358   _AD0CM1         BIT 0xe9
0000            359   _AD0CM0         BIT 0xe8
0000            360   _B_7            BIT 0xf7
0000            361   _B_6            BIT 0xf6
0000            362   _B_5            BIT 0xf5
0000            363   _B_4            BIT 0xf4
0000            364   _B_3            BIT 0xf3
0000            365   _B_2            BIT 0xf2
0000            366   _B_1            BIT 0xf1
0000            367   _B_0            BIT 0xf0
0000            368   _SPIF           BIT 0xff
0000            369   _WCOL           BIT 0xfe
0000            370   _MODF           BIT 0xfd
0000            371   _RXOVRN         BIT 0xfc
0000            372   _NSSMD1         BIT 0xfb
0000            373   _NSSMD0         BIT 0xfa
0000            374   _TXBMT          BIT 0xf9
0000            375   _SPIEN          BIT 0xf8
0000            376   ;--------------------------------------------------------
0000            377   ; overlayable register banks
0000            378   ;--------------------------------------------------------
0000            379            rbank0 segment data overlay
0000            380   ;--------------------------------------------------------
0000            381   ; internal ram data
0000            382   ;--------------------------------------------------------
0000            383            rseg R_DSEG
0000            384   _pwm_count:
0000            385            ds 1
0001            386   _mode:
0001            387            ds 1
0002            388   _pwm_both:
0002            389            ds 1
0003            390   _pwm_Left0:
0003            391            ds 1
0004            392   _pwm_Left1:
0004            393            ds 1
0005            394   _pwm_Right0:
0005            395            ds 1
0006            396   _pwm_Right1:
0006            397            ds 1
0007            398   _direction:
0007            399            ds 1
0008            400   _currentcmd:
0008            401            ds 1
0009            402   _currentstate:
0009            403            ds 1
000A            404   _linetrack_forwardbackward_1_81:
000A            405            ds 2
000C            406   _linetrack_vleft_1_82:
000C            407            ds 4
0010            408   _linetrack_vright_1_82:
0010            409            ds 4
0014            410   _turncar_vleft_1_86:
0014            411            ds 4
0018            412   _turncar_vright_1_86:
0018            413            ds 4
001C            414   _uturn_vleft_1_91:
001C            415            ds 4
0020            416   _uturn_vright_1_91:
0020            417            ds 4
0024            418   ;--------------------------------------------------------
0024            419   ; overlayable items in internal ram 
0024            420   ;--------------------------------------------------------
0000            421            rseg    R_OSEG
0000            422            rseg    R_OSEG
0000            423            rseg    R_OSEG
0000            424   _InitPinADC_PARM_2:
0000            425            ds 1
0001            426            rseg    R_OSEG
0001            427   ;--------------------------------------------------------
0001            428   ; indirectly addressable internal ram data
0001            429   ;--------------------------------------------------------
0000            430            rseg R_ISEG
0000            431   ;--------------------------------------------------------
0000            432   ; absolute internal ram data
0000            433   ;--------------------------------------------------------
0000            434            DSEG
0000            435   ;--------------------------------------------------------
0000            436   ; bit data
0000            437   ;--------------------------------------------------------
0000            438            rseg R_BSEG
0000            439   _Timer2_ISR_sloc0_1_0:
0000            440            DBIT    1
0001            441   ;--------------------------------------------------------
0001            442   ; paged external ram data
0001            443   ;--------------------------------------------------------
0000            444            rseg R_PSEG
0000            445   ;--------------------------------------------------------
0000            446   ; external ram data
0000            447   ;--------------------------------------------------------
0000            448            rseg R_XSEG
0000            449   ;--------------------------------------------------------
0000            450   ; absolute external ram data
0000            451   ;--------------------------------------------------------
0000            452            XSEG
0000            453   ;--------------------------------------------------------
0000            454   ; external initialized ram data
0000            455   ;--------------------------------------------------------
0000            456            rseg R_IXSEG
0000            457            rseg R_HOME
0000            458            rseg R_GSINIT
0000            459            rseg R_CSEG
0000            460   ;--------------------------------------------------------
0000            461   ; Reset entry point and interrupt vectors
0000            462   ;--------------------------------------------------------
0000            463            CSEG at 0x0000
0000 020100     464            ljmp    _crt0
002B            465            CSEG at 0x002b
002B 020100     466            ljmp    _Timer2_ISR
002E            467   ;--------------------------------------------------------
002E            468   ; global & static initialisations
002E            469   ;--------------------------------------------------------
0000            470            rseg R_HOME
0000            471            rseg R_GSINIT
0000            472            rseg R_GSINIT
0000            473   ;--------------------------------------------------------
0000            474   ; data variables initialization
0000            475   ;--------------------------------------------------------
0000            476            rseg R_DINIT
0000            477   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:20: volatile  char pwm_count=0;
0000 755800     478            mov     _pwm_count,#0x00
0003            479   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:21: volatile  char mode = 0;
0003 751800     480            mov     _mode,#0x00
0006            481   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:22: volatile  char pwm_both =0;
0006 75D800     482            mov     _pwm_both,#0x00
0009            483   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:23: volatile  char pwm_Left0 = 0; //p1.5
0009 759800     484            mov     _pwm_Left0,#0x00
000C            485   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:24: volatile  char pwm_Left1 = 0; //p1.6
000C 755800     486            mov     _pwm_Left1,#0x00
000F            487   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:25: volatile  char pwm_Right0 = 0; //p2.0
000F 751800     488            mov     _pwm_Right0,#0x00
0012            489   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:26: volatile  char pwm_Right1 = 0; //p2.1
0012 75D800     490            mov     _pwm_Right1,#0x00
0015            491   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:27: volatile  char direction = 0; // 1 for back 0 for forward
0015 759800     492            mov     _direction,#0x00
0018            493   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:29: volatile  char currentcmd = 3;
0018 755803     494            mov     _currentcmd,#0x03
001B            495   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:30: volatile  char currentstate = 1;
001B 751801     496            mov     _currentstate,#0x01
001E            497            ; The linker places a 'ret' at the end of segment R_DINIT.
001E            498   ;--------------------------------------------------------
001E            499   ; code
001E            500   ;--------------------------------------------------------
0000            501            rseg R_CSEG
0000            502   ;------------------------------------------------------------
0000            503   ;Allocation info for local variables in function '_c51_external_startup'
0000            504   ;------------------------------------------------------------
0000            505   ;------------------------------------------------------------
0000            506   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:34: char _c51_external_startup (void)
0000            507   ;        -----------------------------------------
0000            508   ;         function _c51_external_startup
0000            509   ;        -----------------------------------------
0000            510   __c51_external_startup:
0000            511            using   0
0000            512   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:36: PCA0MD&=(~0x40) ;    // DISABLE WDT: clear Watchdog Enable bit
0000 53D9BF     513            anl     _PCA0MD,#0xBF
0003            514   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:37: VDM0CN=0x80; // enable VDD monitor
0003 75FF80     515            mov     _VDM0CN,#0x80
0006            516   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:38: RSTSRC=0x02|0x04; // Enable reset on missing clock detector and VDD
0006 75EF06     517            mov     _RSTSRC,#0x06
0009            518   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:46: CLKSEL|=0b_0000_0011; // SYSCLK derived from the Internal High-Frequency Oscillator / 1.
0009 43A903     519            orl     _CLKSEL,#0x03
000C            520   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:50: OSCICN |= 0x03; // Configure internal oscillator for its maximum frequency
000C 43B203     521            orl     _OSCICN,#0x03
000F            522   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:53: SCON0 = 0x10;
000F 759810     523            mov     _SCON0,#0x10
0012            524   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:55: TH1 = 0x10000-((SYSCLK/BAUDRATE)/2L);
0012 758D30     525            mov     _TH1,#0x30
0015            526   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:56: CKCON &= ~0x0B;                  // T1M = 1; SCA1:0 = xx
0015 538EF4     527            anl     _CKCON,#0xF4
0018            528   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:57: CKCON |=  0x08;
0018 438E08     529            orl     _CKCON,#0x08
001B            530   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:70: TL1 = TH1;      // Init Timer1
001B 858D8B     531            mov     _TL1,_TH1
001E            532   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:71: TMOD &= ~0xf0;  // TMOD: timer 1 in 8-bit autoreload
001E 53890F     533            anl     _TMOD,#0x0F
0021            534   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:72: TMOD |=  0x20;
0021 438920     535            orl     _TMOD,#0x20
0024            536   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:73: TR1 = 1; // START Timer1
0024 D28E       537            setb    _TR1
0026            538   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:74: TI = 1;  // Indicate TX0 ready
0026 D299       539            setb    _TI
0028            540   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:77: P2MDOUT|=0b_0000_0011;
0028 43A603     541            orl     _P2MDOUT,#0x03
002B            542   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:78: P0MDOUT |= 0x10; // Enable UTX as push-pull output
002B 43A410     543            orl     _P0MDOUT,#0x10
002E            544   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:79: XBR0     = 0x01; // Enable UART on P0.4(TX) and P0.5(RX)
002E 75E101     545            mov     _XBR0,#0x01
0031            546   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:80: XBR1     = 0x40; // Enable crossbar and weak pull-ups
0031 75E240     547            mov     _XBR1,#0x40
0034            548   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:83: TMR2CN=0x00;   // Stop Timer2; Clear TF2;
0034 75C800     549            mov     _TMR2CN,#0x00
0037            550   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:84: CKCON|=0b_0001_0000;
0037 438E10     551            orl     _CKCON,#0x10
003A            552   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:85: TMR2RL=(-(SYSCLK/(2*48))/(100L)); // Initialize reload value
003A 75CA78     553            mov     _TMR2RL,#0x78
003D 75CBEC     554            mov     (_TMR2RL >> 8),#0xEC
0040            555   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:86: TMR2=0xffff;   // Set to reload immediately
0040 75CCFF     556            mov     _TMR2,#0xFF
0043 75CDFF     557            mov     (_TMR2 >> 8),#0xFF
0046            558   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:87: ET2=1;         // Enable Timer2 interrupts
0046 D2AD       559            setb    _ET2
0048            560   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:88: TR2=1;         // Start Timer2
0048 D2CA       561            setb    _TR2
004A            562   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:90: EA=1; // Enable interrupts
004A D2AF       563            setb    _EA
004C            564   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:92: return 0;
004C 758200     565            mov     dpl,#0x00
004F 22         566            ret
0050            567   ;------------------------------------------------------------
0050            568   ;Allocation info for local variables in function 'Timer3us'
0050            569   ;------------------------------------------------------------
0050            570   ;us                        Allocated to registers r2 
0050            571   ;i                         Allocated to registers r3 
0050            572   ;------------------------------------------------------------
0050            573   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:96: void Timer3us(unsigned char us)
0050            574   ;        -----------------------------------------
0050            575   ;         function Timer3us
0050            576   ;        -----------------------------------------
0050            577   _Timer3us:
0050 AA82       578            mov     r2,dpl
0052            579   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:101: CKCON|=0b_0100_0000;
0052 438E40     580            orl     _CKCON,#0x40
0055            581   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:103: TMR3RL = (-(SYSCLK)/1000000L); // Set Timer3 to overflow in 1us.
0055 7592D0     582            mov     _TMR3RL,#0xD0
0058 7593FF     583            mov     (_TMR3RL >> 8),#0xFF
005B            584   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:104: TMR3 = TMR3RL;                 // Initialize Timer3 for first overflow
005B 859294     585            mov     _TMR3,_TMR3RL
005E 859395     586            mov     (_TMR3 >> 8),(_TMR3RL >> 8)
0061            587   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:106: TMR3CN = 0x04;                 // Sart Timer3 and clear overflow flag
0061 759104     588            mov     _TMR3CN,#0x04
0064            589   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:107: for (i = 0; i < us; i++)       // Count <us> overflows
0064 7B00       590            mov     r3,#0x00
0066            591   L003004?:
0066 C3         592            clr     c
0067 EB         593            mov     a,r3
0068 9A         594            subb    a,r2
0069 5001       595            jnc     L003007?
006B            596   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:109: while (!(TMR3CN & 0x80));  // Wait for overflow
006B            597   L003001?:
006B E591       598            mov     a,_TMR3CN
006D 30E798     599            jnb     acc.7,L003001?
0070            600   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:110: TMR3CN &= ~(0x80);         // Clear overflow indicator
0070 53917F     601            anl     _TMR3CN,#0x7F
0073            602   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:107: for (i = 0; i < us; i++)       // Count <us> overflows
0073 0B         603            inc     r3
0074 8001       604            sjmp    L003004?
0076            605   L003007?:
0076            606   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:112: TMR3CN = 0 ;                   // Stop Timer3 and clear overflow flag
0076 759100     607            mov     _TMR3CN,#0x00
0079 22         608            ret
007A            609   ;------------------------------------------------------------
007A            610   ;Allocation info for local variables in function 'waitms'
007A            611   ;------------------------------------------------------------
007A            612   ;ms                        Allocated to registers r2 r3 
007A            613   ;j                         Allocated to registers r2 r3 
007A            614   ;------------------------------------------------------------
007A            615   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:115: void waitms (unsigned int ms)
007A            616   ;        -----------------------------------------
007A            617   ;         function waitms
007A            618   ;        -----------------------------------------
007A            619   _waitms:
007A AA82       620            mov     r2,dpl
007C AB83       621            mov     r3,dph
007E            622   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:118: for(j=ms; j!=0; j--)
007E            623   L004001?:
007E BA0098     624            cjne    r2,#0x00,L004010?
0081 BB0098     625            cjne    r3,#0x00,L004010?
0084 22         626            ret
0085            627   L004010?:
0085            628   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:120: Timer3us(249);
0085 7582F9     629            mov     dpl,#0xF9
0088 C002       630            push    ar2
008A C003       631            push    ar3
008C 120100     632            lcall   _Timer3us
008F            633   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:121: Timer3us(249);
008F 7582F9     634            mov     dpl,#0xF9
0092 120100     635            lcall   _Timer3us
0095            636   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:122: Timer3us(249);
0095 7582F9     637            mov     dpl,#0xF9
0098 120100     638            lcall   _Timer3us
009B            639   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:123: Timer3us(250);
009B 7582FA     640            mov     dpl,#0xFA
009E 120100     641            lcall   _Timer3us
00A1 D003       642            pop     ar3
00A3 D002       643            pop     ar2
00A5            644   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:118: for(j=ms; j!=0; j--)
00A5 1A         645            dec     r2
00A6 BAFFD8     646            cjne    r2,#0xff,L004011?
00A9 1B         647            dec     r3
00AA            648   L004011?:
00AA 8001       649            sjmp    L004001?
00AC            650   ;------------------------------------------------------------
00AC            651   ;Allocation info for local variables in function 'Timer2_ISR'
00AC            652   ;------------------------------------------------------------
00AC            653   ;------------------------------------------------------------
00AC            654   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:128: void Timer2_ISR (void) interrupt 5
00AC            655   ;        -----------------------------------------
00AC            656   ;         function Timer2_ISR
00AC            657   ;        -----------------------------------------
00AC            658   _Timer2_ISR:
00AC C0E0       659            push    acc
00AE C0F0       660            push    b
00B0 C0D0       661            push    psw
00B2 75D000     662            mov     psw,#0x00
00B5            663   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:130: TF2H = 0; // Clear Timer2 interrupt flag
00B5 C2CF       664            clr     _TF2H
00B7            665   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:132: pwm_count++;
00B7 0558       666            inc     _pwm_count
00B9            667   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:133: if(pwm_count>100) pwm_count=0;
00B9 C3         668            clr     c
00BA 74E4       669            mov     a,#(0x64 ^ 0x80)
00BC 8558F0     670            mov     b,_pwm_count
00BF 63F080     671            xrl     b,#0x80
00C2 95F0       672            subb    a,b
00C4 5001       673            jnc     L005002?
00C6 755800     674            mov     _pwm_count,#0x00
00C9            675   L005002?:
00C9            676   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:136: MOTOR_LEFT0 = pwm_count > pwm_Left0 ? 0 : 1; //p1.5
00C9 C3         677            clr     c
00CA E598       678            mov     a,_pwm_Left0
00CC 6480       679            xrl     a,#0x80
00CE 8558F0     680            mov     b,_pwm_count
00D1 63F080     681            xrl     b,#0x80
00D4 95F0       682            subb    a,b
00D6 9258       683            mov  _Timer2_ISR_sloc0_1_0,c
00D8 B3         684            cpl     c
00D9 9295       685            mov     _P1_5,c
00DB            686   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:137: MOTOR_LEFT1 = pwm_count > pwm_Left1 ? 0 : 1; //p1.6
00DB C3         687            clr     c
00DC E558       688            mov     a,_pwm_Left1
00DE 6480       689            xrl     a,#0x80
00E0 8558F0     690            mov     b,_pwm_count
00E3 63F080     691            xrl     b,#0x80
00E6 95F0       692            subb    a,b
00E8 9258       693            mov  _Timer2_ISR_sloc0_1_0,c
00EA B3         694            cpl     c
00EB 9296       695            mov     _P1_6,c
00ED            696   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:138: MOTOR_RIGHT0 = pwm_count > pwm_Right0 ? 0 : 1; //p2.0
00ED C3         697            clr     c
00EE E518       698            mov     a,_pwm_Right0
00F0 6480       699            xrl     a,#0x80
00F2 8558F0     700            mov     b,_pwm_count
00F5 63F080     701            xrl     b,#0x80
00F8 95F0       702            subb    a,b
00FA 9258       703            mov  _Timer2_ISR_sloc0_1_0,c
00FC B3         704            cpl     c
00FD 92A0       705            mov     _P2_0,c
00FF            706   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:139: MOTOR_RIGHT1 = pwm_count > pwm_Right1 ? 0 : 1; //p2.1
00FF C3         707            clr     c
0100 E5D8       708            mov     a,_pwm_Right1
0102 6480       709            xrl     a,#0x80
0104 8558F0     710            mov     b,_pwm_count
0107 63F080     711            xrl     b,#0x80
010A 95F0       712            subb    a,b
010C 9258       713            mov  _Timer2_ISR_sloc0_1_0,c
010E B3         714            cpl     c
010F 92A1       715            mov     _P2_1,c
0111 D0D0       716            pop     psw
0113 D0F0       717            pop     b
0115 D0E0       718            pop     acc
0117 32         719            reti
0118            720   ;        eliminated unneeded push/pop dpl
0118            721   ;        eliminated unneeded push/pop dph
0118            722   ;------------------------------------------------------------
0118            723   ;Allocation info for local variables in function 'forward_backward'
0118            724   ;------------------------------------------------------------
0118            725   ;direction                 Allocated to registers r2 
0118            726   ;------------------------------------------------------------
0118            727   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:146: void forward_backward(unsigned char direction)
0118            728   ;        -----------------------------------------
0118            729   ;         function forward_backward
0118            730   ;        -----------------------------------------
0118            731   _forward_backward:
0118            732   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:149: if (direction == 0) { //p2.1,1.6 on
0118 E582       733            mov     a,dpl
011A FA         734            mov     r2,a
011B 7001       735            jnz     L006004?
011D            736   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:150: pwm_Left0 = pwm_Right0 = -1;
011D 7518FF     737            mov     _pwm_Right0,#0xFF
0120 7598FF     738            mov     _pwm_Left0,#0xFF
0123            739   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:151: pwm_Left1 = pwm_Right1 = pwm_both;  //MOTOR_LEFT1 = MOTOR_RIGHT1 = pwm_both;
0123 85D8D8     740            mov     _pwm_Right1,_pwm_both
0126 85D858     741            mov     _pwm_Left1,_pwm_both
0129 22         742            ret
012A            743   L006004?:
012A            744   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:154: else if (direction == 1) { //p2.0,1.5 on
012A BA0118     745            cjne    r2,#0x01,L006006?
012D            746   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:155: pwm_Left1 = pwm_Right1 = -1;
012D 75D8FF     747            mov     _pwm_Right1,#0xFF
0130 7558FF     748            mov     _pwm_Left1,#0xFF
0133            749   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:156: pwm_Left0 = pwm_Right0 = pwm_both; 
0133 85D818     750            mov     _pwm_Right0,_pwm_both
0136 85D898     751            mov     _pwm_Left0,_pwm_both
0139            752   L006006?:
0139 22         753            ret
013A            754   ;------------------------------------------------------------
013A            755   ;Allocation info for local variables in function 'InitADC'
013A            756   ;------------------------------------------------------------
013A            757   ;------------------------------------------------------------
013A            758   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:162: void InitADC (void)
013A            759   ;        -----------------------------------------
013A            760   ;         function InitADC
013A            761   ;        -----------------------------------------
013A            762   _InitADC:
013A            763   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:165: ADC0CF = 0xF8; // SAR clock = 31, Right-justified result
013A 75BCF8     764            mov     _ADC0CF,#0xF8
013D            765   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:166: ADC0CN = 0b_1000_0000; // AD0EN=1, AD0TM=0
013D 75E880     766            mov     _ADC0CN,#0x80
0140            767   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:167: REF0CN = 0b_0000_1000; //Select VDD as the voltage reference for the converter
0140 75D108     768            mov     _REF0CN,#0x08
0143 22         769            ret
0144            770   ;------------------------------------------------------------
0144            771   ;Allocation info for local variables in function 'InitPinADC'
0144            772   ;------------------------------------------------------------
0144            773   ;pinno                     Allocated with name '_InitPinADC_PARM_2'
0144            774   ;portno                    Allocated to registers r2 
0144            775   ;mask                      Allocated to registers r3 
0144            776   ;------------------------------------------------------------
0144            777   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:170: void InitPinADC (unsigned char portno, unsigned char pinno)
0144            778   ;        -----------------------------------------
0144            779   ;         function InitPinADC
0144            780   ;        -----------------------------------------
0144            781   _InitPinADC:
0144 AA82       782            mov     r2,dpl
0146            783   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:174: mask=1<<pinno;
0146 85F8F0     784            mov     b,_InitPinADC_PARM_2
0149 05F0       785            inc     b
014B 7401       786            mov     a,#0x01
014D 8001       787            sjmp    L008012?
014F            788   L008010?:
014F 25E0       789            add     a,acc
0151            790   L008012?:
0151 D5F098     791            djnz    b,L008010?
0154 FB         792            mov     r3,a
0155            793   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:176: switch (portno)
0155 EA         794            mov     a,r2
0156 24FC       795            add     a,#0xff - 0x03
0158 4001       796            jc      L008007?
015A EA         797            mov     a,r2
015B 2A         798            add     a,r2
015C 2A         799            add     a,r2
015D 909E18     800            mov     dptr,#L008014?
0160 73         801            jmp     @a+dptr
0161            802   L008014?:
0161 020100     803            ljmp    L008001?
0164 020100     804            ljmp    L008002?
0167 020100     805            ljmp    L008003?
016A 020100     806            ljmp    L008004?
016D            807   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:178: case 0:
016D            808   L008001?:
016D            809   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:179: P0MDIN &= (~mask); // Set pin as analog input
016D EB         810            mov     a,r3
016E F4         811            cpl     a
016F 52F1       812            anl     _P0MDIN,a
0171            813   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:180: P0SKIP |= mask; // Skip Crossbar decoding for this pin
0171 EB         814            mov     a,r3
0172 42D4       815            orl     _P0SKIP,a
0174            816   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:181: break;
0174            817   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:182: case 1:
0174 22         818            ret
0175            819   L008002?:
0175            820   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:183: P1MDIN &= (~mask); // Set pin as analog input
0175 EB         821            mov     a,r3
0176 F4         822            cpl     a
0177 52F2       823            anl     _P1MDIN,a
0179            824   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:184: P1SKIP |= mask; // Skip Crossbar decoding for this pin
0179 EB         825            mov     a,r3
017A 42D5       826            orl     _P1SKIP,a
017C            827   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:185: break;
017C            828   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:186: case 2:
017C 22         829            ret
017D            830   L008003?:
017D            831   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:187: P2MDIN &= (~mask); // Set pin as analog input
017D EB         832            mov     a,r3
017E F4         833            cpl     a
017F 52F3       834            anl     _P2MDIN,a
0181            835   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:188: P2SKIP |= mask; // Skip Crossbar decoding for this pin
0181 EB         836            mov     a,r3
0182 42D6       837            orl     _P2SKIP,a
0184            838   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:189: break;
0184            839   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:190: case 3:
0184 22         840            ret
0185            841   L008004?:
0185            842   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:191: P3MDIN &= (~mask); // Set pin as analog input
0185 EB         843            mov     a,r3
0186 F4         844            cpl     a
0187 FA         845            mov     r2,a
0188 52F4       846            anl     _P3MDIN,a
018A            847   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:192: P3SKIP |= mask; // Skip Crossbar decoding for this pin
018A EB         848            mov     a,r3
018B 42DF       849            orl     _P3SKIP,a
018D            850   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:196: }
018D            851   L008007?:
018D 22         852            ret
018E            853   ;------------------------------------------------------------
018E            854   ;Allocation info for local variables in function 'ADC_at_Pin'
018E            855   ;------------------------------------------------------------
018E            856   ;pin                       Allocated to registers 
018E            857   ;------------------------------------------------------------
018E            858   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:199: unsigned int ADC_at_Pin(unsigned char pin)
018E            859   ;        -----------------------------------------
018E            860   ;         function ADC_at_Pin
018E            861   ;        -----------------------------------------
018E            862   _ADC_at_Pin:
018E 8582BB     863            mov     _AMX0P,dpl
0191            864   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:202: AMX0N = LQFP32_MUX_GND;  // GND is negative input (Single-ended Mode)
0191 75BA1F     865            mov     _AMX0N,#0x1F
0194            866   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:204: AD0BUSY=1;
0194 D2EC       867            setb    _AD0BUSY
0196            868   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:205: while (AD0BUSY); // Wait for dummy conversion to finish
0196            869   L009001?:
0196 20EC58     870            jb      _AD0BUSY,L009001?
0199            871   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:207: AD0BUSY = 1;
0199 D2EC       872            setb    _AD0BUSY
019B            873   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:208: while (AD0BUSY); // Wait for conversion to complete
019B            874   L009004?:
019B 20EC98     875            jb      _AD0BUSY,L009004?
019E            876   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:209: return (ADC0L+(ADC0H*0x100));
019E AABD       877            mov     r2,_ADC0L
01A0 7B00       878            mov     r3,#0x00
01A2 ADBE       879            mov     r5,_ADC0H
01A4 7C00       880            mov     r4,#0x00
01A6 EC         881            mov     a,r4
01A7 2A         882            add     a,r2
01A8 F582       883            mov     dpl,a
01AA ED         884            mov     a,r5
01AB 3B         885            addc    a,r3
01AC F583       886            mov     dph,a
01AE 22         887            ret
01AF            888   ;------------------------------------------------------------
01AF            889   ;Allocation info for local variables in function 'Volts_at_Pin'
01AF            890   ;------------------------------------------------------------
01AF            891   ;pin                       Allocated to registers r2 
01AF            892   ;------------------------------------------------------------
01AF            893   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:212: float Volts_at_Pin(unsigned char pin)
01AF            894   ;        -----------------------------------------
01AF            895   ;         function Volts_at_Pin
01AF            896   ;        -----------------------------------------
01AF            897   _Volts_at_Pin:
01AF            898   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:214: return ((ADC_at_Pin(pin)*3.30)/1024.0);
01AF 120100     899            lcall   _ADC_at_Pin
01B2 120100     900            lcall   ___uint2fs
01B5 AA82       901            mov     r2,dpl
01B7 AB83       902            mov     r3,dph
01B9 ACF0       903            mov     r4,b
01BB FD         904            mov     r5,a
01BC C002       905            push    ar2
01BE C003       906            push    ar3
01C0 C004       907            push    ar4
01C2 C005       908            push    ar5
01C4 903333     909            mov     dptr,#0x3333
01C7 75F053     910            mov     b,#0x53
01CA 7440       911            mov     a,#0x40
01CC 120100     912            lcall   ___fsmul
01CF AA82       913            mov     r2,dpl
01D1 AB83       914            mov     r3,dph
01D3 ACF0       915            mov     r4,b
01D5 FD         916            mov     r5,a
01D6 E581       917            mov     a,sp
01D8 24FC       918            add     a,#0xfc
01DA F581       919            mov     sp,a
01DC E4         920            clr     a
01DD C0E0       921            push    acc
01DF C0E0       922            push    acc
01E1 7480       923            mov     a,#0x80
01E3 C0E0       924            push    acc
01E5 7444       925            mov     a,#0x44
01E7 C0E0       926            push    acc
01E9 8A82       927            mov     dpl,r2
01EB 8B83       928            mov     dph,r3
01ED 8CF0       929            mov     b,r4
01EF ED         930            mov     a,r5
01F0 120100     931            lcall   ___fsdiv
01F3 AA82       932            mov     r2,dpl
01F5 AB83       933            mov     r3,dph
01F7 ACF0       934            mov     r4,b
01F9 FD         935            mov     r5,a
01FA E581       936            mov     a,sp
01FC 24FC       937            add     a,#0xfc
01FE F581       938            mov     sp,a
0200 8A82       939            mov     dpl,r2
0202 8B83       940            mov     dph,r3
0204 8CF0       941            mov     b,r4
0206 ED         942            mov     a,r5
0207 22         943            ret
0208            944   ;------------------------------------------------------------
0208            945   ;Allocation info for local variables in function 'readData'
0208            946   ;------------------------------------------------------------
0208            947   ;------------------------------------------------------------
0208            948   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:218: void readData (void) {
0208            949   ;        -----------------------------------------
0208            950   ;         function readData
0208            951   ;        -----------------------------------------
0208            952   _readData:
0208            953   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:220: if (COMMAND_PIN == 0) {                                  //0---
0208 2090D8     954            jb      _P1_0,L011022?
020B            955   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:221: waitms(6);
020B 900006     956            mov     dptr,#0x0006
020E 120100     957            lcall   _waitms
0211            958   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:222: if (COMMAND_PIN == 1) {                          //01--
0211 309018     959            jnb     _P1_0,L011018?
0214            960   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:223: waitms(4);
0214 900004     961            mov     dptr,#0x0004
0217 120100     962            lcall   _waitms
021A            963   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:224: if (COMMAND_PIN == 0) {                  //010-
021A 209058     964            jb      _P1_0,L011007?
021D            965   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:225: waitms(4);
021D 900004     966            mov     dptr,#0x0004
0220 120100     967            lcall   _waitms
0223            968   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:226: if (COMMAND_PIN == 0) {          //0100  
0223 209098     969            jb      _P1_0,L011002?
0226            970   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:227: currentcmd = 4;
0226 755804     971            mov     _currentcmd,#0x04
0229 8001       972            sjmp    L011022?
022B            973   L011002?:
022B            974   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:230: currentcmd = 5;
022B 755805     975            mov     _currentcmd,#0x05
022E 8001       976            sjmp    L011022?
0230            977   L011007?:
0230            978   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:234: waitms(4);
0230 900004     979            mov     dptr,#0x0004
0233 120100     980            lcall   _waitms
0236            981   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:235: if (COMMAND_PIN == 0) {          //0110
0236 2090D8     982            jb      _P1_0,L011022?
0239            983   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:236: currentcmd = 6;
0239 755806     984            mov     _currentcmd,#0x06
023C 8001       985            sjmp    L011022?
023E            986   L011018?:
023E            987   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:241: waitms(4);
023E 900004     988            mov     dptr,#0x0004
0241 120100     989            lcall   _waitms
0244            990   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:242: if (COMMAND_PIN == 1) {                  //001-
0244 3090D8     991            jnb     _P1_0,L011015?
0247            992   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:243: waitms(4);
0247 900004     993            mov     dptr,#0x0004
024A 120100     994            lcall   _waitms
024D            995   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:244: if (COMMAND_PIN == 1) {          //0011
024D 309018     996            jnb     _P1_0,L011010?
0250            997   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:245: currentcmd = 3;
0250 755803     998            mov     _currentcmd,#0x03
0253 8001       999            sjmp    L011022?
0255           1000   L011010?:
0255           1001   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:248: currentcmd = 2;
0255 755802    1002            mov     _currentcmd,#0x02
0258 8001      1003            sjmp    L011022?
025A           1004   L011015?:
025A           1005   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:252: waitms(4);
025A 900004    1006            mov     dptr,#0x0004
025D 120100    1007            lcall   _waitms
0260           1008   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:253: if (COMMAND_PIN == 1) {          //0001  
0260 3090D8    1009            jnb     _P1_0,L011022?
0263           1010   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:254: currentcmd == 1;
0263 E558      1011            mov     a,_currentcmd
0265           1012   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:260: while (COMMAND_PIN == 0) {}
0265           1013   L011022?:
0265 3090D8    1014            jnb     _P1_0,L011022?
0268 22        1015            ret
0269           1016   ;------------------------------------------------------------
0269           1017   ;Allocation info for local variables in function 'linetrack'
0269           1018   ;------------------------------------------------------------
0269           1019   ;forwardbackward           Allocated with name '_linetrack_forwardbackward_1_81'
0269           1020   ;vleft                     Allocated with name '_linetrack_vleft_1_82'
0269           1021   ;vright                    Allocated with name '_linetrack_vright_1_82'
0269           1022   ;------------------------------------------------------------
0269           1023   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:264: void linetrack (int forwardbackward) {
0269           1024   ;        -----------------------------------------
0269           1025   ;         function linetrack
0269           1026   ;        -----------------------------------------
0269           1027   _linetrack:
0269 858228    1028            mov     _linetrack_forwardbackward_1_81,dpl
026C 858329    1029            mov     (_linetrack_forwardbackward_1_81 + 1),dph
026F           1030   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:268: vleft=Volts_at_Pin(LQFP32_MUX_P2_3);
026F 75820B    1031            mov     dpl,#0x0B
0272 120100    1032            lcall   _Volts_at_Pin
0275 858278    1033            mov     _linetrack_vleft_1_82,dpl
0278 858379    1034            mov     (_linetrack_vleft_1_82 + 1),dph
027B 85F07A    1035            mov     (_linetrack_vleft_1_82 + 2),b
027E F57B      1036            mov     (_linetrack_vleft_1_82 + 3),a
0280           1037   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:269: vright=Volts_at_Pin(LQFP32_MUX_P2_4);
0280 75820C    1038            mov     dpl,#0x0C
0283 120100    1039            lcall   _Volts_at_Pin
0286 8582C8    1040            mov     _linetrack_vright_1_82,dpl
0289 8583C9    1041            mov     (_linetrack_vright_1_82 + 1),dph
028C 85F0CA    1042            mov     (_linetrack_vright_1_82 + 2),b
028F F5CB      1043            mov     (_linetrack_vright_1_82 + 3),a
0291           1044   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:271: pwm_Left0 = -1;
0291 7598FF    1045            mov     _pwm_Left0,#0xFF
0294           1046   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:272: pwm_Left1 = ((float)vright*100.0/((float)(vleft+vright)));
0294 C0C8      1047            push    _linetrack_vright_1_82
0296 C0C9      1048            push    (_linetrack_vright_1_82 + 1)
0298 C0CA      1049            push    (_linetrack_vright_1_82 + 2)
029A C0CB      1050            push    (_linetrack_vright_1_82 + 3)
029C 900000    1051            mov     dptr,#0x0000
029F 75F0C8    1052            mov     b,#0xC8
02A2 7442      1053            mov     a,#0x42
02A4 120100    1054            lcall   ___fsmul
02A7 AC82      1055            mov     r4,dpl
02A9 AD83      1056            mov     r5,dph
02AB AEF0      1057            mov     r6,b
02AD FF        1058            mov     r7,a
02AE E581      1059            mov     a,sp
02B0 24FC      1060            add     a,#0xfc
02B2 F581      1061            mov     sp,a
02B4 C004      1062            push    ar4
02B6 C005      1063            push    ar5
02B8 C006      1064            push    ar6
02BA C007      1065            push    ar7
02BC C0C8      1066            push    _linetrack_vright_1_82
02BE C0C9      1067            push    (_linetrack_vright_1_82 + 1)
02C0 C0CA      1068            push    (_linetrack_vright_1_82 + 2)
02C2 C0CB      1069            push    (_linetrack_vright_1_82 + 3)
02C4 857882    1070            mov     dpl,_linetrack_vleft_1_82
02C7 857983    1071            mov     dph,(_linetrack_vleft_1_82 + 1)
02CA 857AF0    1072            mov     b,(_linetrack_vleft_1_82 + 2)
02CD E57B      1073            mov     a,(_linetrack_vleft_1_82 + 3)
02CF 120100    1074            lcall   ___fsadd
02D2 A882      1075            mov     r0,dpl
02D4 A983      1076            mov     r1,dph
02D6 AAF0      1077            mov     r2,b
02D8 FB        1078            mov     r3,a
02D9 E581      1079            mov     a,sp
02DB 24FC      1080            add     a,#0xfc
02DD F581      1081            mov     sp,a
02DF D007      1082            pop     ar7
02E1 D006      1083            pop     ar6
02E3 D005      1084            pop     ar5
02E5 D004      1085            pop     ar4
02E7 C000      1086            push    ar0
02E9 C001      1087            push    ar1
02EB C002      1088            push    ar2
02ED C003      1089            push    ar3
02EF 8C82      1090            mov     dpl,r4
02F1 8D83      1091            mov     dph,r5
02F3 8EF0      1092            mov     b,r6
02F5 EF        1093            mov     a,r7
02F6 120100    1094            lcall   ___fsdiv
02F9 AA82      1095            mov     r2,dpl
02FB AB83      1096            mov     r3,dph
02FD ACF0      1097            mov     r4,b
02FF FD        1098            mov     r5,a
0300 E581      1099            mov     a,sp
0302 24FC      1100            add     a,#0xfc
0304 F581      1101            mov     sp,a
0306 8A82      1102            mov     dpl,r2
0308 8B83      1103            mov     dph,r3
030A 8CF0      1104            mov     b,r4
030C ED        1105            mov     a,r5
030D 120100    1106            lcall   ___fs2schar
0310 858258    1107            mov     _pwm_Left1,dpl
0313           1108   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:273: pwm_Right0 = -1;
0313 7518FF    1109            mov     _pwm_Right0,#0xFF
0316           1110   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:274: pwm_Right1 = (vleft*100.0/(vleft+vright));
0316 C078      1111            push    _linetrack_vleft_1_82
0318 C079      1112            push    (_linetrack_vleft_1_82 + 1)
031A C07A      1113            push    (_linetrack_vleft_1_82 + 2)
031C C07B      1114            push    (_linetrack_vleft_1_82 + 3)
031E 900000    1115            mov     dptr,#0x0000
0321 75F0C8    1116            mov     b,#0xC8
0324 7442      1117            mov     a,#0x42
0326 120100    1118            lcall   ___fsmul
0329 AA82      1119            mov     r2,dpl
032B AB83      1120            mov     r3,dph
032D ACF0      1121            mov     r4,b
032F FD        1122            mov     r5,a
0330 E581      1123            mov     a,sp
0332 24FC      1124            add     a,#0xfc
0334 F581      1125            mov     sp,a
0336 C002      1126            push    ar2
0338 C003      1127            push    ar3
033A C004      1128            push    ar4
033C C005      1129            push    ar5
033E C0C8      1130            push    _linetrack_vright_1_82
0340 C0C9      1131            push    (_linetrack_vright_1_82 + 1)
0342 C0CA      1132            push    (_linetrack_vright_1_82 + 2)
0344 C0CB      1133            push    (_linetrack_vright_1_82 + 3)
0346 857882    1134            mov     dpl,_linetrack_vleft_1_82
0349 857983    1135            mov     dph,(_linetrack_vleft_1_82 + 1)
034C 857AF0    1136            mov     b,(_linetrack_vleft_1_82 + 2)
034F E57B      1137            mov     a,(_linetrack_vleft_1_82 + 3)
0351 120100    1138            lcall   ___fsadd
0354 AE82      1139            mov     r6,dpl
0356 AF83      1140            mov     r7,dph
0358 A8F0      1141            mov     r0,b
035A F9        1142            mov     r1,a
035B E581      1143            mov     a,sp
035D 24FC      1144            add     a,#0xfc
035F F581      1145            mov     sp,a
0361 D005      1146            pop     ar5
0363 D004      1147            pop     ar4
0365 D003      1148            pop     ar3
0367 D002      1149            pop     ar2
0369 C006      1150            push    ar6
036B C007      1151            push    ar7
036D C000      1152            push    ar0
036F C001      1153            push    ar1
0371 8A82      1154            mov     dpl,r2
0373 8B83      1155            mov     dph,r3
0375 8CF0      1156            mov     b,r4
0377 ED        1157            mov     a,r5
0378 120100    1158            lcall   ___fsdiv
037B AA82      1159            mov     r2,dpl
037D AB83      1160            mov     r3,dph
037F ACF0      1161            mov     r4,b
0381 FD        1162            mov     r5,a
0382 E581      1163            mov     a,sp
0384 24FC      1164            add     a,#0xfc
0386 F581      1165            mov     sp,a
0388 8A82      1166            mov     dpl,r2
038A 8B83      1167            mov     dph,r3
038C 8CF0      1168            mov     b,r4
038E ED        1169            mov     a,r5
038F 120100    1170            lcall   ___fs2schar
0392 8582D8    1171            mov     _pwm_Right1,dpl
0395           1172   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:276: if (forwardbackward) {
0395 E528      1173            mov     a,_linetrack_forwardbackward_1_81
0397 4529      1174            orl     a,(_linetrack_forwardbackward_1_81 + 1)
0399 6001      1175            jz      L012002?
039B           1176   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:277: pwm_Left0 = pwm_Left1;
039B 855898    1177            mov     _pwm_Left0,_pwm_Left1
039E           1178   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:278: pwm_Left1 = -1;
039E 7558FF    1179            mov     _pwm_Left1,#0xFF
03A1           1180   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:279: pwm_Right0 = pwm_Right1;
03A1 85D818    1181            mov     _pwm_Right0,_pwm_Right1
03A4           1182   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:280: pwm_Right1 = -1;
03A4 75D8FF    1183            mov     _pwm_Right1,#0xFF
03A7           1184   L012002?:
03A7           1185   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:283: printf("2.3 = %f, 2.4 = %f, LeftMotor = %d, RightMotor = %d\r", vleft, vright, pwm_Left1, pwm_Right1);
03A7 AAD8      1186            mov     r2,_pwm_Right1
03A9 E5D8      1187            mov     a,_pwm_Right1
03AB 33        1188            rlc     a
03AC 95E0      1189            subb    a,acc
03AE FB        1190            mov     r3,a
03AF AC58      1191            mov     r4,_pwm_Left1
03B1 E558      1192            mov     a,_pwm_Left1
03B3 33        1193            rlc     a
03B4 95E0      1194            subb    a,acc
03B6 FD        1195            mov     r5,a
03B7 C002      1196            push    ar2
03B9 C003      1197            push    ar3
03BB C004      1198            push    ar4
03BD C005      1199            push    ar5
03BF C0C8      1200            push    _linetrack_vright_1_82
03C1 C0C9      1201            push    (_linetrack_vright_1_82 + 1)
03C3 C0CA      1202            push    (_linetrack_vright_1_82 + 2)
03C5 C0CB      1203            push    (_linetrack_vright_1_82 + 3)
03C7 C078      1204            push    _linetrack_vleft_1_82
03C9 C079      1205            push    (_linetrack_vleft_1_82 + 1)
03CB C07A      1206            push    (_linetrack_vleft_1_82 + 2)
03CD C07B      1207            push    (_linetrack_vleft_1_82 + 3)
03CF 7418      1208            mov     a,#__str_0
03D1 C0E0      1209            push    acc
03D3 74A3      1210            mov     a,#(__str_0 >> 8)
03D5 C0E0      1211            push    acc
03D7 7480      1212            mov     a,#0x80
03D9 C0E0      1213            push    acc
03DB 120100    1214            lcall   _printf
03DE E581      1215            mov     a,sp
03E0 24F1      1216            add     a,#0xf1
03E2 F581      1217            mov     sp,a
03E4 22        1218            ret
03E5           1219   ;------------------------------------------------------------
03E5           1220   ;Allocation info for local variables in function 'stopcar'
03E5           1221   ;------------------------------------------------------------
03E5           1222   ;------------------------------------------------------------
03E5           1223   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:287: void stopcar () {
03E5           1224   ;        -----------------------------------------
03E5           1225   ;         function stopcar
03E5           1226   ;        -----------------------------------------
03E5           1227   _stopcar:
03E5           1228   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:288: pwm_Left1 = -1;
03E5 7558FF    1229            mov     _pwm_Left1,#0xFF
03E8           1230   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:289: pwm_Right1 = -1;
03E8 75D8FF    1231            mov     _pwm_Right1,#0xFF
03EB           1232   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:290: pwm_Left0 = -1;
03EB 7598FF    1233            mov     _pwm_Left0,#0xFF
03EE           1234   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:291: pwm_Right0 = -1;
03EE 7518FF    1235            mov     _pwm_Right0,#0xFF
03F1 22        1236            ret
03F2           1237   ;------------------------------------------------------------
03F2           1238   ;Allocation info for local variables in function 'turncar'
03F2           1239   ;------------------------------------------------------------
03F2           1240   ;leftright                 Allocated to registers r2 r3 
03F2           1241   ;vleft                     Allocated with name '_turncar_vleft_1_86'
03F2           1242   ;vright                    Allocated with name '_turncar_vright_1_86'
03F2           1243   ;------------------------------------------------------------
03F2           1244   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:294: void turncar (int leftright) {
03F2           1245   ;        -----------------------------------------
03F2           1246   ;         function turncar
03F2           1247   ;        -----------------------------------------
03F2           1248   _turncar:
03F2 AA82      1249            mov     r2,dpl
03F4 AB83      1250            mov     r3,dph
03F6           1251   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:298: pwm_Left0 = -1;
03F6 7598FF    1252            mov     _pwm_Left0,#0xFF
03F9           1253   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:299: pwm_Left1 = -1;
03F9 7558FF    1254            mov     _pwm_Left1,#0xFF
03FC           1255   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:300: pwm_Right0 = -1;
03FC 7518FF    1256            mov     _pwm_Right0,#0xFF
03FF           1257   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:301: pwm_Right1 = -1;
03FF 75D8FF    1258            mov     _pwm_Right1,#0xFF
0402           1259   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:304: if (leftright == 0) {
0402 EA        1260            mov     a,r2
0403 4B        1261            orl     a,r3
0404 6001      1262            jz      L014022?
0406 020100    1263            ljmp    L014012?
0409           1264   L014022?:
0409           1265   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:306: pwm_Right1 = 100;
0409 75D864    1266            mov     _pwm_Right1,#0x64
040C           1267   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:308: waitms(500);
040C 9001F4    1268            mov     dptr,#0x01F4
040F 120100    1269            lcall   _waitms
0412           1270   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:310: vleft=Volts_at_Pin(LQFP32_MUX_P2_3);
0412 75820B    1271            mov     dpl,#0x0B
0415 120100    1272            lcall   _Volts_at_Pin
0418 858218    1273            mov     _turncar_vleft_1_86,dpl
041B 858319    1274            mov     (_turncar_vleft_1_86 + 1),dph
041E 85F01A    1275            mov     (_turncar_vleft_1_86 + 2),b
0421 F51B      1276            mov     (_turncar_vleft_1_86 + 3),a
0423           1277   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:311: vright=Volts_at_Pin(LQFP32_MUX_P2_4);
0423 75820C    1278            mov     dpl,#0x0C
0426 120100    1279            lcall   _Volts_at_Pin
0429 858268    1280            mov     _turncar_vright_1_86,dpl
042C 858369    1281            mov     (_turncar_vright_1_86 + 1),dph
042F 85F06A    1282            mov     (_turncar_vright_1_86 + 2),b
0432 F56B      1283            mov     (_turncar_vright_1_86 + 3),a
0434           1284   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:313: while (((vleft - vright) < 0.1) || ((vleft - vright) > (-0.1))) {
0434           1285   L014002?:
0434 C068      1286            push    _turncar_vright_1_86
0436 C069      1287            push    (_turncar_vright_1_86 + 1)
0438 C06A      1288            push    (_turncar_vright_1_86 + 2)
043A C06B      1289            push    (_turncar_vright_1_86 + 3)
043C 851882    1290            mov     dpl,_turncar_vleft_1_86
043F 851983    1291            mov     dph,(_turncar_vleft_1_86 + 1)
0442 851AF0    1292            mov     b,(_turncar_vleft_1_86 + 2)
0445 E51B      1293            mov     a,(_turncar_vleft_1_86 + 3)
0447 120100    1294            lcall   ___fssub
044A AC82      1295            mov     r4,dpl
044C AD83      1296            mov     r5,dph
044E AEF0      1297            mov     r6,b
0450 FF        1298            mov     r7,a
0451 E581      1299            mov     a,sp
0453 24FC      1300            add     a,#0xfc
0455 F581      1301            mov     sp,a
0457 74CD      1302            mov     a,#0xCD
0459 C0E0      1303            push    acc
045B 74CC      1304            mov     a,#0xCC
045D C0E0      1305            push    acc
045F C0E0      1306            push    acc
0461 743D      1307            mov     a,#0x3D
0463 C0E0      1308            push    acc
0465 8C82      1309            mov     dpl,r4
0467 8D83      1310            mov     dph,r5
0469 8EF0      1311            mov     b,r6
046B EF        1312            mov     a,r7
046C 120100    1313            lcall   ___fslt
046F AC82      1314            mov     r4,dpl
0471 E581      1315            mov     a,sp
0473 24FC      1316            add     a,#0xfc
0475 F581      1317            mov     sp,a
0477 EC        1318            mov     a,r4
0478 7001      1319            jnz     L014003?
047A C068      1320            push    _turncar_vright_1_86
047C C069      1321            push    (_turncar_vright_1_86 + 1)
047E C06A      1322            push    (_turncar_vright_1_86 + 2)
0480 C06B      1323            push    (_turncar_vright_1_86 + 3)
0482 851882    1324            mov     dpl,_turncar_vleft_1_86
0485 851983    1325            mov     dph,(_turncar_vleft_1_86 + 1)
0488 851AF0    1326            mov     b,(_turncar_vleft_1_86 + 2)
048B E51B      1327            mov     a,(_turncar_vleft_1_86 + 3)
048D 120100    1328            lcall   ___fssub
0490 AC82      1329            mov     r4,dpl
0492 AD83      1330            mov     r5,dph
0494 AEF0      1331            mov     r6,b
0496 FF        1332            mov     r7,a
0497 E581      1333            mov     a,sp
0499 24FC      1334            add     a,#0xfc
049B F581      1335            mov     sp,a
049D 74CD      1336            mov     a,#0xCD
049F C0E0      1337            push    acc
04A1 74CC      1338            mov     a,#0xCC
04A3 C0E0      1339            push    acc
04A5 C0E0      1340            push    acc
04A7 74BD      1341            mov     a,#0xBD
04A9 C0E0      1342            push    acc
04AB 8C82      1343            mov     dpl,r4
04AD 8D83      1344            mov     dph,r5
04AF 8EF0      1345            mov     b,r6
04B1 EF        1346            mov     a,r7
04B2 120100    1347            lcall   ___fsgt
04B5 AC82      1348            mov     r4,dpl
04B7 E581      1349            mov     a,sp
04B9 24FC      1350            add     a,#0xfc
04BB F581      1351            mov     sp,a
04BD EC        1352            mov     a,r4
04BE 6001      1353            jz      L014004?
04C0           1354   L014003?:
04C0           1355   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:315: vleft=Volts_at_Pin(LQFP32_MUX_P2_3);
04C0 75820B    1356            mov     dpl,#0x0B
04C3 120100    1357            lcall   _Volts_at_Pin
04C6 858218    1358            mov     _turncar_vleft_1_86,dpl
04C9 858319    1359            mov     (_turncar_vleft_1_86 + 1),dph
04CC 85F01A    1360            mov     (_turncar_vleft_1_86 + 2),b
04CF F51B      1361            mov     (_turncar_vleft_1_86 + 3),a
04D1           1362   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:316: vright=Volts_at_Pin(LQFP32_MUX_P2_4);
04D1 75820C    1363            mov     dpl,#0x0C
04D4 120100    1364            lcall   _Volts_at_Pin
04D7 858268    1365            mov     _turncar_vright_1_86,dpl
04DA 858369    1366            mov     (_turncar_vright_1_86 + 1),dph
04DD 85F06A    1367            mov     (_turncar_vright_1_86 + 2),b
04E0 F56B      1368            mov     (_turncar_vright_1_86 + 3),a
04E2 020100    1369            ljmp    L014002?
04E5           1370   L014004?:
04E5           1371   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:319: pwm_Right1 = -1;                 
04E5 75D8FF    1372            mov     _pwm_Right1,#0xFF
04E8 22        1373            ret
04E9           1374   L014012?:
04E9           1375   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:322: else if (leftright == 1) {
04E9 BA0198    1376            cjne    r2,#0x01,L014025?
04EC BB0098    1377            cjne    r3,#0x00,L014025?
04EF 8001      1378            sjmp    L014026?
04F1           1379   L014025?:
04F1 22        1380            ret
04F2           1381   L014026?:
04F2           1382   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:324: pwm_Left1 = 100;
04F2 755864    1383            mov     _pwm_Left1,#0x64
04F5           1384   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:326: waitms(500);
04F5 9001F4    1385            mov     dptr,#0x01F4
04F8 120100    1386            lcall   _waitms
04FB           1387   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:328: vleft=Volts_at_Pin(LQFP32_MUX_P2_3);
04FB 75820B    1388            mov     dpl,#0x0B
04FE 120100    1389            lcall   _Volts_at_Pin
0501 858218    1390            mov     _turncar_vleft_1_86,dpl
0504 858319    1391            mov     (_turncar_vleft_1_86 + 1),dph
0507 85F01A    1392            mov     (_turncar_vleft_1_86 + 2),b
050A F51B      1393            mov     (_turncar_vleft_1_86 + 3),a
050C           1394   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:329: vright=Volts_at_Pin(LQFP32_MUX_P2_4);
050C 75820C    1395            mov     dpl,#0x0C
050F 120100    1396            lcall   _Volts_at_Pin
0512 858268    1397            mov     _turncar_vright_1_86,dpl
0515 858369    1398            mov     (_turncar_vright_1_86 + 1),dph
0518 85F06A    1399            mov     (_turncar_vright_1_86 + 2),b
051B F56B      1400            mov     (_turncar_vright_1_86 + 3),a
051D           1401   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:331: while (((vleft - vright) < 0.1) || ((vleft - vright) > (-0.1))) {
051D           1402   L014006?:
051D C068      1403            push    _turncar_vright_1_86
051F C069      1404            push    (_turncar_vright_1_86 + 1)
0521 C06A      1405            push    (_turncar_vright_1_86 + 2)
0523 C06B      1406            push    (_turncar_vright_1_86 + 3)
0525 851882    1407            mov     dpl,_turncar_vleft_1_86
0528 851983    1408            mov     dph,(_turncar_vleft_1_86 + 1)
052B 851AF0    1409            mov     b,(_turncar_vleft_1_86 + 2)
052E E51B      1410            mov     a,(_turncar_vleft_1_86 + 3)
0530 120100    1411            lcall   ___fssub
0533 AA82      1412            mov     r2,dpl
0535 AB83      1413            mov     r3,dph
0537 ACF0      1414            mov     r4,b
0539 FD        1415            mov     r5,a
053A E581      1416            mov     a,sp
053C 24FC      1417            add     a,#0xfc
053E F581      1418            mov     sp,a
0540 74CD      1419            mov     a,#0xCD
0542 C0E0      1420            push    acc
0544 74CC      1421            mov     a,#0xCC
0546 C0E0      1422            push    acc
0548 C0E0      1423            push    acc
054A 743D      1424            mov     a,#0x3D
054C C0E0      1425            push    acc
054E 8A82      1426            mov     dpl,r2
0550 8B83      1427            mov     dph,r3
0552 8CF0      1428            mov     b,r4
0554 ED        1429            mov     a,r5
0555 120100    1430            lcall   ___fslt
0558 AA82      1431            mov     r2,dpl
055A E581      1432            mov     a,sp
055C 24FC      1433            add     a,#0xfc
055E F581      1434            mov     sp,a
0560 EA        1435            mov     a,r2
0561 7001      1436            jnz     L014007?
0563 C068      1437            push    _turncar_vright_1_86
0565 C069      1438            push    (_turncar_vright_1_86 + 1)
0567 C06A      1439            push    (_turncar_vright_1_86 + 2)
0569 C06B      1440            push    (_turncar_vright_1_86 + 3)
056B 851882    1441            mov     dpl,_turncar_vleft_1_86
056E 851983    1442            mov     dph,(_turncar_vleft_1_86 + 1)
0571 851AF0    1443            mov     b,(_turncar_vleft_1_86 + 2)
0574 E51B      1444            mov     a,(_turncar_vleft_1_86 + 3)
0576 120100    1445            lcall   ___fssub
0579 AA82      1446            mov     r2,dpl
057B AB83      1447            mov     r3,dph
057D ACF0      1448            mov     r4,b
057F FD        1449            mov     r5,a
0580 E581      1450            mov     a,sp
0582 24FC      1451            add     a,#0xfc
0584 F581      1452            mov     sp,a
0586 74CD      1453            mov     a,#0xCD
0588 C0E0      1454            push    acc
058A 74CC      1455            mov     a,#0xCC
058C C0E0      1456            push    acc
058E C0E0      1457            push    acc
0590 74BD      1458            mov     a,#0xBD
0592 C0E0      1459            push    acc
0594 8A82      1460            mov     dpl,r2
0596 8B83      1461            mov     dph,r3
0598 8CF0      1462            mov     b,r4
059A ED        1463            mov     a,r5
059B 120100    1464            lcall   ___fsgt
059E AA82      1465            mov     r2,dpl
05A0 E581      1466            mov     a,sp
05A2 24FC      1467            add     a,#0xfc
05A4 F581      1468            mov     sp,a
05A6 EA        1469            mov     a,r2
05A7 6001      1470            jz      L014008?
05A9           1471   L014007?:
05A9           1472   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:333: vleft=Volts_at_Pin(LQFP32_MUX_P2_3);
05A9 75820B    1473            mov     dpl,#0x0B
05AC 120100    1474            lcall   _Volts_at_Pin
05AF 858218    1475            mov     _turncar_vleft_1_86,dpl
05B2 858319    1476            mov     (_turncar_vleft_1_86 + 1),dph
05B5 85F01A    1477            mov     (_turncar_vleft_1_86 + 2),b
05B8 F51B      1478            mov     (_turncar_vleft_1_86 + 3),a
05BA           1479   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:334: vright=Volts_at_Pin(LQFP32_MUX_P2_4);
05BA 75820C    1480            mov     dpl,#0x0C
05BD 120100    1481            lcall   _Volts_at_Pin
05C0 858268    1482            mov     _turncar_vright_1_86,dpl
05C3 858369    1483            mov     (_turncar_vright_1_86 + 1),dph
05C6 85F06A    1484            mov     (_turncar_vright_1_86 + 2),b
05C9 F56B      1485            mov     (_turncar_vright_1_86 + 3),a
05CB 020100    1486            ljmp    L014006?
05CE           1487   L014008?:
05CE           1488   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:337: pwm_Left1 = -1; 
05CE 7558FF    1489            mov     _pwm_Left1,#0xFF
05D1 22        1490            ret
05D2           1491   ;------------------------------------------------------------
05D2           1492   ;Allocation info for local variables in function 'uturn'
05D2           1493   ;------------------------------------------------------------
05D2           1494   ;vleft                     Allocated with name '_uturn_vleft_1_91'
05D2           1495   ;vright                    Allocated with name '_uturn_vright_1_91'
05D2           1496   ;------------------------------------------------------------
05D2           1497   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:341: void uturn () {
05D2           1498   ;        -----------------------------------------
05D2           1499   ;         function uturn
05D2           1500   ;        -----------------------------------------
05D2           1501   _uturn:
05D2           1502   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:345: vleft=Volts_at_Pin(LQFP32_MUX_P2_3);
05D2 75820B    1503            mov     dpl,#0x0B
05D5 120100    1504            lcall   _Volts_at_Pin
05D8 8582B8    1505            mov     _uturn_vleft_1_91,dpl
05DB 8583B9    1506            mov     (_uturn_vleft_1_91 + 1),dph
05DE 85F0BA    1507            mov     (_uturn_vleft_1_91 + 2),b
05E1 F5BB      1508            mov     (_uturn_vleft_1_91 + 3),a
05E3           1509   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:346: vright=Volts_at_Pin(LQFP32_MUX_P2_4);
05E3 75820C    1510            mov     dpl,#0x0C
05E6 120100    1511            lcall   _Volts_at_Pin
05E9 858208    1512            mov     _uturn_vright_1_91,dpl
05EC 858309    1513            mov     (_uturn_vright_1_91 + 1),dph
05EF 85F00A    1514            mov     (_uturn_vright_1_91 + 2),b
05F2 F50B      1515            mov     (_uturn_vright_1_91 + 3),a
05F4           1516   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:348: if (vleft >= vright) {
05F4 C008      1517            push    _uturn_vright_1_91
05F6 C009      1518            push    (_uturn_vright_1_91 + 1)
05F8 C00A      1519            push    (_uturn_vright_1_91 + 2)
05FA C00B      1520            push    (_uturn_vright_1_91 + 3)
05FC 85B882    1521            mov     dpl,_uturn_vleft_1_91
05FF 85B983    1522            mov     dph,(_uturn_vleft_1_91 + 1)
0602 85BAF0    1523            mov     b,(_uturn_vleft_1_91 + 2)
0605 E5BB      1524            mov     a,(_uturn_vleft_1_91 + 3)
0607 120100    1525            lcall   ___fslt
060A AA82      1526            mov     r2,dpl
060C E581      1527            mov     a,sp
060E 24FC      1528            add     a,#0xfc
0610 F581      1529            mov     sp,a
0612 EA        1530            mov     a,r2
0613 7001      1531            jnz     L015002?
0615           1532   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:350: turncar(1);
0615 900001    1533            mov     dptr,#0x0001
0618 020100    1534            ljmp    _turncar
061B           1535   L015002?:
061B           1536   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:355: turncar(0);
061B 900000    1537            mov     dptr,#0x0000
061E 020100    1538            ljmp    _turncar
0621           1539   ;------------------------------------------------------------
0621           1540   ;Allocation info for local variables in function 'main'
0621           1541   ;------------------------------------------------------------
0621           1542   ;------------------------------------------------------------
0621           1543   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:359: void main (void)
0621           1544   ;        -----------------------------------------
0621           1545   ;         function main
0621           1546   ;        -----------------------------------------
0621           1547   _main:
0621           1548   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:362: MOTOR_LEFT0 =0;
0621 C295      1549            clr     _P1_5
0623           1550   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:363: MOTOR_LEFT1 =0;
0623 C296      1551            clr     _P1_6
0625           1552   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:364: MOTOR_RIGHT0 =0;
0625 C2A0      1553            clr     _P2_0
0627           1554   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:365: MOTOR_RIGHT1 =0;
0627 C2A1      1555            clr     _P2_1
0629           1556   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:367: currentstate = 3;        //initialize the car to be stopped
0629 751803    1557            mov     _currentstate,#0x03
062C           1558   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:368: currentcmd = 0;          //initialize the command to be null
062C 755800    1559            mov     _currentcmd,#0x00
062F           1560   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:371: printf("\x1b[2J"); // Clear screen using ANSI escape sequence.
062F 7418      1561            mov     a,#__str_1
0631 C0E0      1562            push    acc
0633 74A7      1563            mov     a,#(__str_1 >> 8)
0635 C0E0      1564            push    acc
0637 7480      1565            mov     a,#0x80
0639 C0E0      1566            push    acc
063B 120100    1567            lcall   _printf
063E 1581      1568            dec     sp
0640 1581      1569            dec     sp
0642 1581      1570            dec     sp
0644           1571   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:380: InitPinADC(2, 3); // Configure P2.3 as analog input
0644 75F803    1572            mov     _InitPinADC_PARM_2,#0x03
0647 758202    1573            mov     dpl,#0x02
064A 120100    1574            lcall   _InitPinADC
064D           1575   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:381: InitPinADC(2, 4); // Configure P2.4 as analog input
064D 75F804    1576            mov     _InitPinADC_PARM_2,#0x04
0650 758202    1577            mov     dpl,#0x02
0653 120100    1578            lcall   _InitPinADC
0656           1579   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:382: InitADC();
0656 120100    1580            lcall   _InitADC
0659           1581   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:384: while(1)
0659           1582   L016015?:
0659           1583   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:386: readData(); //check for incoming commands
0659 120100    1584            lcall   _readData
065C           1585   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:388: switch (currentstate) {
065C AA18      1586            mov     r2,_currentstate
065E BA0198    1587            cjne    r2,#0x01,L016025?
0661 8001      1588            sjmp    L016001?
0663           1589   L016025?:
0663 BA0218    1590            cjne    r2,#0x02,L016026?
0666 8001      1591            sjmp    L016002?
0668           1592   L016026?:
0668           1593   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:389: case 1:
0668 BA0398    1594            cjne    r2,#0x03,L016004?
066B 8001      1595            sjmp    L016003?
066D           1596   L016001?:
066D           1597   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:390: linetrack(0);    //forwards
066D 900000    1598            mov     dptr,#0x0000
0670 120100    1599            lcall   _linetrack
0673           1600   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:391: break;
0673           1601   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:392: case 2:
0673 8001      1602            sjmp    L016004?
0675           1603   L016002?:
0675           1604   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:393: linetrack(1);    //backwards
0675 900001    1605            mov     dptr,#0x0001
0678 120100    1606            lcall   _linetrack
067B           1607   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:394: break;
067B           1608   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:395: case 3:
067B 8001      1609            sjmp    L016004?
067D           1610   L016003?:
067D           1611   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:396: stopcar();               //stop car
067D 120100    1612            lcall   _stopcar
0680           1613   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:398: }
0680           1614   L016004?:
0680           1615   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:400: switch (currentcmd) {
0680 E558      1616            mov     a,_currentcmd
0682 FA        1617            mov     r2,a
0683 20E718    1618            jb      acc.7,L016012?
0686 C3        1619            clr     c
0687 7486      1620            mov     a,#(0x06 ^ 0x80)
0689 8AF0      1621            mov     b,r2
068B 63F080    1622            xrl     b,#0x80
068E 95F0      1623            subb    a,b
0690 4001      1624            jc      L016012?
0692 EA        1625            mov     a,r2
0693 2A        1626            add     a,r2
0694 2A        1627            add     a,r2
0695 90A958    1628            mov     dptr,#L016030?
0698 73        1629            jmp     @a+dptr
0699           1630   L016030?:
0699 020100    1631            ljmp    L016005?
069C 020100    1632            ljmp    L016006?
069F 020100    1633            ljmp    L016007?
06A2 020100    1634            ljmp    L016008?
06A5 020100    1635            ljmp    L016009?
06A8 020100    1636            ljmp    L016010?
06AB 020100    1637            ljmp    L016011?
06AE           1638   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:402: case 0 :
06AE           1639   L016005?:
06AE           1640   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:403: break;
06AE           1641   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:404: case 1 :
06AE 8001      1642            sjmp    L016015?
06B0           1643   L016006?:
06B0           1644   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:407: turncar(0); //0 = left
06B0 900000    1645            mov     dptr,#0x0000
06B3 120100    1646            lcall   _turncar
06B6           1647   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:408: currentcmd = 0;
06B6 755800    1648            mov     _currentcmd,#0x00
06B9           1649   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:410: break;
06B9           1650   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:413: case 2 :
06B9 8001      1651            sjmp    L016015?
06BB           1652   L016007?:
06BB           1653   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:416: turncar(1); //1 = right
06BB 900001    1654            mov     dptr,#0x0001
06BE 120100    1655            lcall   _turncar
06C1           1656   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:417: currentcmd = 0;
06C1 755800    1657            mov     _currentcmd,#0x00
06C4           1658   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:419: break;
06C4 020100    1659            ljmp    L016015?
06C7           1660   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:422: case 3 :
06C7           1661   L016008?:
06C7           1662   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:423: currentstate = 1;
06C7 751801    1663            mov     _currentstate,#0x01
06CA           1664   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:424: currentcmd = 0;
06CA 755800    1665            mov     _currentcmd,#0x00
06CD           1666   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:425: break;
06CD 020100    1667            ljmp    L016015?
06D0           1668   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:428: case 4 :
06D0           1669   L016009?:
06D0           1670   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:429: currentstate = 2;
06D0 751802    1671            mov     _currentstate,#0x02
06D3           1672   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:430: currentcmd = 0;
06D3 755800    1673            mov     _currentcmd,#0x00
06D6           1674   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:431: break;
06D6 020100    1675            ljmp    L016015?
06D9           1676   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:434: case 5 :
06D9           1677   L016010?:
06D9           1678   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:435: currentstate = 3;
06D9 751803    1679            mov     _currentstate,#0x03
06DC           1680   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:436: currentcmd = 0;
06DC 755800    1681            mov     _currentcmd,#0x00
06DF           1682   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:437: break;
06DF 020100    1683            ljmp    L016015?
06E2           1684   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:440: case 6 :
06E2           1685   L016011?:
06E2           1686   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:441: uturn();  //uturn
06E2 120100    1687            lcall   _uturn
06E5           1688   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:442: currentcmd = 0;
06E5 755800    1689            mov     _currentcmd,#0x00
06E8           1690   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:443: break;
06E8 020100    1691            ljmp    L016015?
06EB           1692   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:444: default: 
06EB           1693   L016012?:
06EB           1694   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:445: currentstate = 1;
06EB 751801    1695            mov     _currentstate,#0x01
06EE           1696   ;        C:\Users\Lucy\Documents\2016-2017\ELEC 291\ELEC291P2\src\motors.c:446: }
06EE 020100    1697            ljmp    L016015?
06F1           1698            rseg R_CSEG
06F1           1699   
0000           1700            rseg R_XINIT
0000           1701   
0000           1702            rseg R_CONST
0000           1703   __str_0:
0000 322E3320  1704            db '2.3 = %f, 2.4 = %f, LeftMotor = %d, RightMotor = %d'
     3D202566
     2C20322E
     34203D20
     25662C20
     4C656674
     4D6F746F
     72203D20
     25642C20
     52696768
     744D6F74
     6F72203D
     202564
0033 0D        1705            db 0x0D
0034 00        1706            db 0x00
0035           1707   __str_1:
0035 1B        1708            db 0x1B
0036 5B324A    1709            db '[2J'
0039 00        1710            db 0x00
003A           1711   
002E           1712            CSEG
002E           1713   
002E           1714   end
